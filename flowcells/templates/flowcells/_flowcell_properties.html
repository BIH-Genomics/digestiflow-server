{% load flowcells %}

<dl class="row flowcell-properties">
  <dt class="col-12 col-md-3 col-xl-2">UUID</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.sodar_uuid }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Project</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.project.title }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Created</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.date_created }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Last Modified</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.date_modified }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Full Name</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.get_full_name }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Sequencer</dt>
  <dd class="col-12 col-md-9 col-xl-10">
    <a href="{% url 'sequencers:sequencer-detail' project=project.sodar_uuid sequencer=object.sequencing_machine.sodar_uuid %}">
      {{ object.sequencing_machine.label }}
      ({{ object.sequencing_machine.vendor_id }})
    </a>
  </dd>

  <dt class="col-12 col-md-3 col-xl-2">Manual Label</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.manual_label|default:"-" }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Number of Lanes</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.num_lanes|default:"-" }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Operator</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.operator }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Demux Operator</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.demux_operator.name|default:"-" }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">RTA Version</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.rta_version }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Status Sequencing</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.status_sequencing }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Status Conversion</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.status_conversion }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Status Delivery</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.status_delivery }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Delivery Type</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.delivery_type }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Planned Reads</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.planned_reads }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Current Reads</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.current_reads }}</dd>

  <dt class="col-12 col-md-3 col-xl-2">Barcode Mismatches</dt>
  <dd class="col-12 col-md-9 col-xl-10">{{ object.barcode_mismatches|default:"-" }}</dd>

  {% get_lanes_with_missing_sheets object as lanes_with_missing_sheets %}
  <dt class="col-12 col-md-3 col-xl-2">Sheet Completeness</dt>
  <dd class="col-12 col-md-9 col-xl-10">
    {% if lanes_with_missing_sheets %}
      <span class="text-warning">
        <i class="fa fa-exclamation-circle pr-1" title="Suppress Warning{{ lanes_with_missing_sheets|pluralize:"s" }}?"
         data-popover-url="{% url 'flowcells:flowcell-suppress-warning' project=project.sodar_uuid flowcell=flowcell.sodar_uuid warning="no_sample_sheet" lanes=lanes_with_missing_sheets|join:"," %}?return_to=properties"></i>
        Sample sheet missing for {{ lanes_with_missing_sheets|pluralize:"lane,lanes" }} {{ lanes_with_missing_sheets|join:", " }}.
      </span>
    {% elif flowcell.lanes_suppress_no_sample_sheet_warning %}
      {% get_lanes_with_missing_sheets object True as lanes_with_missing_sheets %}
      <span class="text-muted">
        <i class="fa fa-exclamation-circle pr-1" title="Suppress Warning{{ lanes_with_missing_sheets|pluralize:"s" }}?"
         data-popover-url="{% url 'flowcells:flowcell-suppress-warning' project=project.sodar_uuid flowcell=flowcell.sodar_uuid warning="no_sample_sheet" lanes=lanes_with_missing_sheets|join:"," %}?return_to=properties"></i>
        Suppressed warning{{ lanes_with_missing_sheets|pluralize:"s" }} on lanes with missing sample sheets.
      </span>
    {% else %}
      The sheet is complete
    {% endif %}
  </dd>
</dl>
